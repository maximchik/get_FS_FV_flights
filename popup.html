<!DOCTYPE html>
<html>
    <link rel="stylesheet" type="text/css" href="assets/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="assets/bootstrap-vue.css"/>

<head>
    <title>Get Stats From FlightStats</title>
    <style>
        .table td, .table th {
            padding: 0px 4px 0px 4px;
        }
        .table td {
            font-size: 12px;
        }
        .table th {
            font-size: 14px;
        }
        [role="progressbar"] {
            font-size: 9px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="app" >
            <div class="row">
                <div class="col-12 text-center">
                    <h2 class="text-center mb-0"><a :href="link" target="_blank">{{ title }}</a></h2>
                    <div v-for="item,index in flightsSources"
                        class="btn py-0 px-1 mx-1"
                        :class="flightsSourceId==index?'btn-primary':'btn-secondary'"
                        @click="selectFlightsSource(index)"
                    >{{ item.name }}</div>
                    <div class="pt-1 pb-1">
                        <b-progress height="10px"
                            :value="flightsSources[flightsSourceId].flightsChecked"
                            :max="flightsSources[flightsSourceId].flightsTotal"
                            :animated="flightsSources[flightsSourceId].flightsLoading"
                            show-value></b-progress>
                    </div>
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th style="width: 10%; cursor: pointer;"
                                    scope="col"
                                    @click="setOrderField(flightsSourceId,'time')"
                                    :class="flightsSources[flightsSourceId].sortField=='time'?'text-light bg-dark':'text-dark'"
                                    class="text-center">Time</th>
                                <th style="width: 30%; cursor: pointer;"
                                    scope="col"
                                    @click="setOrderField(flightsSourceId,'flight')"
                                    :class="flightsSources[flightsSourceId].sortField=='flight'?'text-light bg-dark':'text-dark'"
                                    class="text-left">Flight: {{ flightsSources[flightsSourceId].flightsTotal }}</th>
                                <th style="width: 30%" scope="col" class="text-left">Term: <strong>{{ flightsSources[flightsSourceId].termCount }}</strong></th>
                                <th style="width: 30%" scope="col" class="text-left">Gate: <strong>{{ flightsSources[flightsSourceId].gateCount }}</strong></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="flight in flightsSources[flightsSourceId].htmldata">
                                <td style="width: 10%" class="text-center">{{ flight.time }}</td>
                                <td style="width: 30%" class="text-left">
                                    <a v-if="flight.href" :href="flight.href">{{ flight.flight }}</a>
                                    <span v-if="!flight.href">{{ flight.flight }}</span>
                                </td>
                                <td style="width: 30%" class="text-center">{{ flight.terminal }}</td>
                                <td style="width: 30%" class="text-center">{{ flight.gate }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/jquery-3.3.1.min.js"></script>
    <script src="assets/vue.js"></script>
    <script src="assets/vue-router.js"></script>
    <script src="assets/bootstrap-vue.js"></script>
    <script src="assets/axios.js"></script>
    <script src="main.js"></script>
</body>
</html>